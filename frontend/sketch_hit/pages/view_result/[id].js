import Head from 'next/head';
import Link from 'next/link';
import { useRouter } from 'next/router';
import React, { useState, useEffect, useRef } from 'react';
import { domain_db, http_protcol } from '../../global';
import { Canvas, useFrame } from '@react-three/fiber';
import { OrbitControls } from '@react-three/drei';
import { Quaternion, Euler, Vector3 } from 'three';

function Box(props) {
  const ref = useRef();
  const [hovered, hover] = useState(false);
  const [clicked, click] = useState(false);
  let i = 0;
  //console.log(props.ts);
  useFrame((state, delta) => {
    if (props.ts == null) return;
    let ts = props.ts[parseInt(i / 10)];
    //x軸を90-azimuth分回転
    let theta1 = ts.azimuth;
    let q1 = new Quaternion(Math.cos(theta1 / 2), Math.sin(theta1 / 2), 0, 0);
    let n = new Vector3(1, 0, 0);
    n.applyQuaternion(q1);
    let theta2 = ts.altitude;
    let q = new Quaternion(
      Math.cos(theta2 / 2),
      n.x * Math.sin(theta2 / 2),
      n.y * Math.sin(theta2 / 2),
      n.z * Math.sin(theta2 / 2)
    );
    q.normalize();
    //console.log(q);
    ref.current.rotation.setFromQuaternion(q);
    i++;
    if (i >= props.ts.length * 10) i = 0;
  });
  return (
    <mesh
      {...props}
      ref={ref}
      scale={clicked ? 1.5 : 1}
      onClick={(event) => click(!clicked)}
      onPointerOver={(event) => hover(true)}
      onPointerOut={(event) => hover(false)}
    >
      <boxGeometry args={[0.5, 0.5, 10]} />
      <meshStandardMaterial color={hovered ? 'hotpink' : 'orange'} />
    </mesh>
  );
}

export default function Result(pageProps) {
  const router = useRouter();
  const result_id = router.query.id;
  const [result_ts, setResult_ts] = useState([
    {
      ID: '2ac94023-ea13-432e-bfdc-f1f8b74e7d6f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 1,
      time: 10007,
      x_target: 720,
      y_target: 178.84616,
      x: 724,
      y: 178.84616,
      distance: -4,
      pressure: 0.09505198,
      altitude: 1.1488909,
      azimuth: 1.1118164,
    },
    {
      ID: '4456e4cd-49ef-4d23-a00a-9db33e9001b1',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 2,
      time: 10013,
      x_target: 720,
      y_target: 184.61539,
      x: 724,
      y: 184.61539,
      distance: -4,
      pressure: 0.10767296,
      altitude: 1.1488909,
      azimuth: 1.1118164,
    },
    {
      ID: '2c67f392-1c31-4087-95a9-52da5d4190c3',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 3,
      time: 10019,
      x_target: 720,
      y_target: 190.38461,
      x: 724.5846,
      y: 190.38461,
      distance: -4.584615,
      pressure: 0.12536167,
      altitude: 1.1488909,
      azimuth: 1.1279268,
    },
    {
      ID: '744bff32-cb10-4a20-ba8d-6f200c26b7b0',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 4,
      time: 10025,
      x_target: 720,
      y_target: 196.15384,
      x: 725.3538,
      y: 196.15384,
      distance: -5.353846,
      pressure: 0.14465071,
      altitude: 1.1488909,
      azimuth: 1.1491249,
    },
    {
      ID: '7c2dc51f-8ed5-441b-958d-3110da785afe',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 5,
      time: 10031,
      x_target: 720,
      y_target: 201.92308,
      x: 726.14575,
      y: 201.92308,
      distance: -6.145749,
      pressure: 0.1638275,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'c9611f8d-7d41-41aa-9ae4-11222640ea48',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 6,
      time: 10036,
      x_target: 720,
      y_target: 207.6923,
      x: 727.0567,
      y: 207.6923,
      distance: -7.05668,
      pressure: 0.18241489,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '900f0afa-3fc4-4515-9041-b2c618bde81c',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 7,
      time: 10042,
      x_target: 720,
      y_target: 213.46153,
      x: 727.9676,
      y: 213.46153,
      distance: -7.9676113,
      pressure: 0.20100228,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'bba1c5e5-6afa-42e6-a45e-48b8b7f90b42',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 8,
      time: 10047,
      x_target: 720,
      y_target: 219.23077,
      x: 728.87854,
      y: 219.23077,
      distance: -8.878543,
      pressure: 0.21958968,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '08c09469-57c9-4fc7-a4f8-0e1dfcb8650f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 9,
      time: 10051,
      x_target: 720,
      y_target: 225,
      x: 729.4167,
      y: 225,
      distance: -9.416667,
      pressure: 0.23290382,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1e1a5016-0858-448d-b513-8c04ea9dcf87',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 10,
      time: 10055,
      x_target: 720,
      y_target: 230.76923,
      x: 729.89746,
      y: 230.76923,
      distance: -9.897436,
      pressure: 0.2454067,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'ad43d458-8d69-4959-9841-f03974c46d44',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 11,
      time: 10059,
      x_target: 720,
      y_target: 236.53847,
      x: 730.37823,
      y: 236.53847,
      distance: -10.378205,
      pressure: 0.2579096,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '0030efbc-751c-47d4-9224-b1b06a2a57a5',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 12,
      time: 10062,
      x_target: 720,
      y_target: 242.3077,
      x: 730.85895,
      y: 242.3077,
      distance: -10.858974,
      pressure: 0.27041247,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'd24a6dba-5e42-4ab5-ad1d-665d7f4c1107',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 13,
      time: 10066,
      x_target: 720,
      y_target: 248.07692,
      x: 731.302,
      y: 248.07692,
      distance: -11.301994,
      pressure: 0.27672696,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5a8600f4-ecce-48f6-8682-85f1b1a9e695',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 14,
      time: 10070,
      x_target: 720,
      y_target: 253.84616,
      x: 731.7294,
      y: 253.84616,
      distance: -11.729344,
      pressure: 0.2804727,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '357ac444-0e7c-47ee-baf5-7950c4275654',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 15,
      time: 10073,
      x_target: 720,
      y_target: 259.6154,
      x: 732.1567,
      y: 259.6154,
      distance: -12.156695,
      pressure: 0.28421843,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '514ad57c-a845-45d6-b17c-933e950977e4',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 16,
      time: 10077,
      x_target: 720,
      y_target: 265.3846,
      x: 732.58405,
      y: 265.3846,
      distance: -12.584045,
      pressure: 0.28796414,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '3f987445-92a3-4ddb-bed9-c0daf38ed498',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 17,
      time: 10081,
      x_target: 720,
      y_target: 271.15384,
      x: 733.0048,
      y: 271.15384,
      distance: -13.004807,
      pressure: 0.2916754,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '53d41578-db55-4515-ae3a-c06d239272be',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 18,
      time: 10084,
      x_target: 720,
      y_target: 276.92307,
      x: 733.1851,
      y: 276.92307,
      distance: -13.185096,
      pressure: 0.29412803,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '4063a116-5185-41ef-b978-eae9a9850cfb',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 19,
      time: 10087,
      x_target: 720,
      y_target: 282.69232,
      x: 733.36536,
      y: 282.69232,
      distance: -13.365385,
      pressure: 0.29658067,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '9e6d1df9-73bf-46a6-bbb8-ec2d75b3280f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 20,
      time: 10090,
      x_target: 720,
      y_target: 288.46155,
      x: 733.54565,
      y: 288.46155,
      distance: -13.545673,
      pressure: 0.2990333,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1adc7065-7f31-4fc4-bd3d-9e6ce51195f9',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 21,
      time: 10093,
      x_target: 720,
      y_target: 294.23077,
      x: 733.72595,
      y: 294.23077,
      distance: -13.725962,
      pressure: 0.30148596,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '3dfec1e6-f562-43f0-ad83-fba5645fcd78',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 22,
      time: 10096,
      x_target: 720,
      y_target: 300,
      x: 733.90625,
      y: 300,
      distance: -13.90625,
      pressure: 0.30393863,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5be60612-1120-4fd3-9981-08d8bd6425fa',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 23,
      time: 10099,
      x_target: 720,
      y_target: 305.76923,
      x: 733.9209,
      y: 305.76923,
      distance: -13.920879,
      pressure: 0.30490655,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'a2210fc2-1b4f-441d-8783-1755e193a01e',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 24,
      time: 10101,
      x_target: 720,
      y_target: 311.53845,
      x: 733.75604,
      y: 311.53845,
      distance: -13.756044,
      pressure: 0.30426607,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'dcab6244-e43e-4ba6-aced-7e301ad8afc3',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 25,
      time: 10104,
      x_target: 720,
      y_target: 317.30768,
      x: 733.5912,
      y: 317.30768,
      distance: -13.591208,
      pressure: 0.30362555,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '48c56d62-8658-489b-a401-3dc717af067d',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 26,
      time: 10107,
      x_target: 720,
      y_target: 323.07693,
      x: 733.4264,
      y: 323.07693,
      distance: -13.4263735,
      pressure: 0.30298507,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'ca763754-5649-4350-aeb3-ed0dd180b8c5',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 27,
      time: 10109,
      x_target: 720,
      y_target: 328.84616,
      x: 733.26154,
      y: 328.84616,
      distance: -13.2615385,
      pressure: 0.30234456,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '814fe03a-55de-4eec-9cd0-d6bc2a9dec3f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 28,
      time: 10112,
      x_target: 720,
      y_target: 334.6154,
      x: 733.0967,
      y: 334.6154,
      distance: -13.096704,
      pressure: 0.30170408,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '3bf9d8e6-63d4-4343-8689-bca4fb2e846f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 29,
      time: 10115,
      x_target: 720,
      y_target: 340.3846,
      x: 732.91486,
      y: 340.3846,
      distance: -12.914835,
      pressure: 0.30095917,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '4b46c72a-f798-44ca-b523-f7e945d10746',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 30,
      time: 10118,
      x_target: 720,
      y_target: 346.15384,
      x: 732.7088,
      y: 346.15384,
      distance: -12.708791,
      pressure: 0.30006608,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '279162ec-6f4a-4403-8d03-ed5e30436af5',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 31,
      time: 10122,
      x_target: 720,
      y_target: 351.92307,
      x: 732.50275,
      y: 351.92307,
      distance: -12.502748,
      pressure: 0.29917297,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'c7131baf-73fb-4492-887b-c5b07f7641e6',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 32,
      time: 10125,
      x_target: 720,
      y_target: 357.69232,
      x: 732.2967,
      y: 357.69232,
      distance: -12.296703,
      pressure: 0.29827988,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '416532c2-1a37-44b5-b4c1-4d2bbeab8ff9',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 33,
      time: 10129,
      x_target: 720,
      y_target: 363.46155,
      x: 732.09064,
      y: 363.46155,
      distance: -12.090659,
      pressure: 0.2973868,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'bd89a7ca-4155-433d-a251-052894d51c7a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 34,
      time: 10131,
      x_target: 720,
      y_target: 369.23077,
      x: 731.67694,
      y: 369.23077,
      distance: -11.676923,
      pressure: 0.29936278,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'cc03421a-82e1-4332-b297-561d4119b8c9',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 35,
      time: 10131,
      x_target: 720,
      y_target: 375,
      x: 731.1,
      y: 375,
      distance: -11.1,
      pressure: 0.30359304,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5767a6a1-d36d-4ce0-a60f-c8c2fa692a41',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 36,
      time: 10133,
      x_target: 720,
      y_target: 380.76923,
      x: 730.74896,
      y: 380.76923,
      distance: -10.748988,
      pressure: 0.3079742,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '2ab6c82c-82b3-4264-aa57-f82b07fca8eb',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 37,
      time: 10135,
      x_target: 720,
      y_target: 386.53845,
      x: 730.4454,
      y: 386.53845,
      distance: -10.445344,
      pressure: 0.31238696,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5ffaea9e-98c3-4d65-8c46-9217e421db99',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 38,
      time: 10138,
      x_target: 720,
      y_target: 392.30768,
      x: 730.1417,
      y: 392.30768,
      distance: -10.141701,
      pressure: 0.31679973,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'b2de7e56-3efc-4c2f-990c-e74188b25415',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 39,
      time: 10140,
      x_target: 720,
      y_target: 398.07693,
      x: 729.8381,
      y: 398.07693,
      distance: -9.838057,
      pressure: 0.3212125,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '49860d32-b3a4-4532-b3bb-9ce418d0a888',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 40,
      time: 10143,
      x_target: 720,
      y_target: 403.84616,
      x: 729.5344,
      y: 403.84616,
      distance: -9.534413,
      pressure: 0.32562527,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '0b5ce9fe-33ed-4de1-8ce6-11e21ea14aba',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 41,
      time: 10146,
      x_target: 720,
      y_target: 409.6154,
      x: 729.2308,
      y: 409.6154,
      distance: -9.230769,
      pressure: 0.33003804,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '144864c6-bc11-4201-9610-3b2cff1f6fba',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 42,
      time: 10148,
      x_target: 720,
      y_target: 415.3846,
      x: 728.9341,
      y: 415.3846,
      distance: -8.934066,
      pressure: 0.33506003,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5c91e581-7b5d-4383-b17b-da770aa88696',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 43,
      time: 10150,
      x_target: 720,
      y_target: 421.15384,
      x: 728.65936,
      y: 421.15384,
      distance: -8.659341,
      pressure: 0.34201124,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1b96d753-f749-4de7-bad6-693678c42ff6',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 44,
      time: 10152,
      x_target: 720,
      y_target: 426.92307,
      x: 728.38464,
      y: 426.92307,
      distance: -8.384615,
      pressure: 0.34896243,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'afc68c0b-7644-4dd0-8296-c078e5d9da5d',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 45,
      time: 10155,
      x_target: 720,
      y_target: 432.69232,
      x: 728.10986,
      y: 432.69232,
      distance: -8.10989,
      pressure: 0.35591364,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '975011b5-6654-4df1-8c06-02cc1f632602',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 46,
      time: 10157,
      x_target: 720,
      y_target: 438.46155,
      x: 727.83514,
      y: 438.46155,
      distance: -7.835165,
      pressure: 0.36286482,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '5bf13be4-7b06-4f15-83c1-a9cc0d3ea588',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 47,
      time: 10159,
      x_target: 720,
      y_target: 444.23077,
      x: 727.5604,
      y: 444.23077,
      distance: -7.5604396,
      pressure: 0.36981604,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '141ebbba-d14d-4802-8b71-f7a448109d2a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 48,
      time: 10161,
      x_target: 720,
      y_target: 450,
      x: 727.2857,
      y: 450,
      distance: -7.285714,
      pressure: 0.37676722,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '59d04cf0-56e0-4359-8b27-033498922b3d',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 49,
      time: 10163,
      x_target: 720,
      y_target: 455.76923,
      x: 727.011,
      y: 455.76923,
      distance: -7.010989,
      pressure: 0.3837184,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'cb4bbd2a-ed72-42f3-ab98-8d2a3a0c820f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 50,
      time: 10166,
      x_target: 720,
      y_target: 461.53845,
      x: 726.5846,
      y: 461.53845,
      distance: -6.584615,
      pressure: 0.38849998,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '831d5d49-9a76-4b2e-baca-6bcc337df45c',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 51,
      time: 10168,
      x_target: 720,
      y_target: 467.30768,
      x: 726.1519,
      y: 467.30768,
      distance: -6.151923,
      pressure: 0.39319113,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'e1992de9-8058-4a76-9a54-74e8a1d3dd74',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 52,
      time: 10171,
      x_target: 720,
      y_target: 473.07693,
      x: 725.71924,
      y: 473.07693,
      distance: -5.7192307,
      pressure: 0.3978823,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '03a20f5a-e1e9-4c7e-b287-ec0137e414be',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 53,
      time: 10173,
      x_target: 720,
      y_target: 478.84616,
      x: 725.28656,
      y: 478.84616,
      distance: -5.2865386,
      pressure: 0.40257347,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '877cbbc6-a1b6-429f-beec-d8f8c7c3ad7a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 54,
      time: 10176,
      x_target: 720,
      y_target: 484.6154,
      x: 724.8538,
      y: 484.6154,
      distance: -4.853846,
      pressure: 0.40726462,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1781c3bf-a5cd-45d2-8c7a-3ee1358f08af',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 55,
      time: 10178,
      x_target: 720,
      y_target: 490.3846,
      x: 724.42114,
      y: 490.3846,
      distance: -4.421154,
      pressure: 0.41195577,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '22a0d349-2846-4594-b4c4-d6b99ef3384c',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 56,
      time: 10181,
      x_target: 720,
      y_target: 496.15384,
      x: 723.989,
      y: 496.15384,
      distance: -3.989011,
      pressure: 0.41660628,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'ebb354e7-0a89-4df1-bcbd-816fbb1ca1be',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 57,
      time: 10183,
      x_target: 720,
      y_target: 501.92307,
      x: 723.5769,
      y: 501.92307,
      distance: -3.5769231,
      pressure: 0.41977188,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'cac640bb-d225-47bb-b6b7-4223211b5243',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 58,
      time: 10185,
      x_target: 720,
      y_target: 507.69232,
      x: 723.16486,
      y: 507.69232,
      distance: -3.1648352,
      pressure: 0.4229375,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '94818113-611b-458d-9931-99c55a6e625a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 59,
      time: 10188,
      x_target: 720,
      y_target: 513.46155,
      x: 722.75275,
      y: 513.46155,
      distance: -2.7527473,
      pressure: 0.42610314,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'af8118c1-bae7-4d0f-87c9-eda194a5d312',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 60,
      time: 10190,
      x_target: 720,
      y_target: 519.2308,
      x: 722.34064,
      y: 519.2308,
      distance: -2.3406594,
      pressure: 0.42926878,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'e0d00047-931e-42ac-97b1-bbf0d50ca762',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 61,
      time: 10192,
      x_target: 720,
      y_target: 525,
      x: 721.9286,
      y: 525,
      distance: -1.9285715,
      pressure: 0.43243438,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '48cddda9-ad1e-42f1-82fd-457e214e0444',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 62,
      time: 10195,
      x_target: 720,
      y_target: 530.7692,
      x: 721.5165,
      y: 530.7692,
      distance: -1.5164835,
      pressure: 0.4356,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'db30a36d-f8e0-423c-96f7-8f7e5272d35e',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 63,
      time: 10197,
      x_target: 720,
      y_target: 536.53845,
      x: 721.1044,
      y: 536.53845,
      distance: -1.1043956,
      pressure: 0.43876565,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '73916b4e-69f7-4d0f-9c57-2e3422acc142',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 64,
      time: 10199,
      x_target: 720,
      y_target: 542.3077,
      x: 720.4872,
      y: 542.3077,
      distance: -0.4871795,
      pressure: 0.43985683,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '94137602-abe0-4cb4-a676-9b3c030d765c',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 65,
      time: 10201,
      x_target: 720,
      y_target: 548.0769,
      x: 719.80035,
      y: 548.0769,
      distance: 0.1996337,
      pressure: 0.44024423,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'c1fe2dc4-909e-4625-8e8a-be52b64482a7',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 66,
      time: 10204,
      x_target: 720,
      y_target: 553.8461,
      x: 719.1135,
      y: 553.8461,
      distance: 0.8864469,
      pressure: 0.4406316,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '33e7e2b2-8ef3-438a-865e-3fbc7526c92f',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 67,
      time: 10206,
      x_target: 720,
      y_target: 559.61536,
      x: 718.42676,
      y: 559.61536,
      distance: 1.5732601,
      pressure: 0.44101897,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '6fbbe55e-c0b6-45c2-981b-1bf1046e3f54',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 68,
      time: 10208,
      x_target: 720,
      y_target: 565.38464,
      x: 717.7399,
      y: 565.38464,
      distance: 2.2600732,
      pressure: 0.44140634,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'f5497536-a8e6-49ed-80b1-e04d3e9a723d',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 69,
      time: 10210,
      x_target: 720,
      y_target: 571.1539,
      x: 717.0531,
      y: 571.1539,
      distance: 2.9468865,
      pressure: 0.4417937,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '9b653dda-f77b-49a0-adf7-3ee1dff43f1e',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 70,
      time: 10212,
      x_target: 720,
      y_target: 576.9231,
      x: 716.3663,
      y: 576.9231,
      distance: 3.6336997,
      pressure: 0.44218108,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '8c188b01-47e8-4320-bda5-e2818c1bc27e',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 71,
      time: 10215,
      x_target: 720,
      y_target: 582.6923,
      x: 715.64575,
      y: 582.6923,
      distance: 4.354251,
      pressure: 0.44045252,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '2c80bdb8-584e-45bd-abf8-99ae902485b6',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 72,
      time: 10217,
      x_target: 720,
      y_target: 588.46155,
      x: 714.88666,
      y: 588.46155,
      distance: 5.1133604,
      pressure: 0.43630573,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'd79d3212-0144-44e9-82bf-6dfbade6e92a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 73,
      time: 10220,
      x_target: 720,
      y_target: 594.2308,
      x: 714.1275,
      y: 594.2308,
      distance: 5.8724694,
      pressure: 0.43215895,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '430fe2d1-7efa-45bb-9388-a577c5f3e4bc',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 74,
      time: 10222,
      x_target: 720,
      y_target: 600,
      x: 713.3684,
      y: 600,
      distance: 6.631579,
      pressure: 0.42801216,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '14d12a61-6903-4ca6-9c2d-863f84fa63b7',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 75,
      time: 10225,
      x_target: 720,
      y_target: 605.7692,
      x: 712.6093,
      y: 605.7692,
      distance: 7.3906884,
      pressure: 0.42386535,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '783ccfe7-5ede-42fe-b967-b2a3a72764bb',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 76,
      time: 10228,
      x_target: 720,
      y_target: 611.53845,
      x: 711.8502,
      y: 611.53845,
      distance: 8.149797,
      pressure: 0.41971856,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'b28c3358-a149-4dad-9cc5-e9113a124302',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 77,
      time: 10230,
      x_target: 720,
      y_target: 617.3077,
      x: 711.09106,
      y: 617.3077,
      distance: 8.908907,
      pressure: 0.41557178,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '6378175a-c980-4645-ac1a-b2bb96316bf1',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 78,
      time: 10233,
      x_target: 720,
      y_target: 623.0769,
      x: 710.29486,
      y: 623.0769,
      distance: 9.705129,
      pressure: 0.4094607,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '07c986be-d246-4e87-83a7-3bfea2193c36',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 79,
      time: 10236,
      x_target: 720,
      y_target: 628.8461,
      x: 709.4936,
      y: 628.8461,
      distance: 10.506411,
      pressure: 0.40308172,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '98afbfd9-cca7-4120-9ce3-25389efec2ef',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 80,
      time: 10238,
      x_target: 720,
      y_target: 634.61536,
      x: 708.6923,
      y: 634.61536,
      distance: 11.307693,
      pressure: 0.39670277,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'd429821d-6b2c-45f3-8b6d-7599d6178447',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 81,
      time: 10241,
      x_target: 720,
      y_target: 640.38464,
      x: 707.89105,
      y: 640.38464,
      distance: 12.108974,
      pressure: 0.39032382,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '430b1567-8e1c-47ff-9d08-d0c764742f5a',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 82,
      time: 10244,
      x_target: 720,
      y_target: 646.1539,
      x: 707.0897,
      y: 646.1539,
      distance: 12.910256,
      pressure: 0.38394487,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '0b8b095c-bbec-403a-a034-c6be0e9de726',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 83,
      time: 10247,
      x_target: 720,
      y_target: 651.9231,
      x: 706.28845,
      y: 651.9231,
      distance: 13.711538,
      pressure: 0.37756592,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '7c15653e-4cad-4f0f-adff-19e3140fbf62',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 84,
      time: 10249,
      x_target: 720,
      y_target: 657.6923,
      x: 705.6427,
      y: 657.6923,
      distance: 14.35732,
      pressure: 0.37478307,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1f4f9c0d-7710-47f9-988b-f82305e50000',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 85,
      time: 10252,
      x_target: 720,
      y_target: 663.46155,
      x: 705.08435,
      y: 663.46155,
      distance: 14.915633,
      pressure: 0.37402302,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'b6fd6e88-f318-40dc-bd7c-5607a414f0af',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 86,
      time: 10255,
      x_target: 720,
      y_target: 669.2308,
      x: 704.52606,
      y: 669.2308,
      distance: 15.473946,
      pressure: 0.37326297,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '3a518777-ce15-4ce6-9191-fbe3d4d9095b',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 87,
      time: 10258,
      x_target: 720,
      y_target: 675,
      x: 703.9677,
      y: 675,
      distance: 16.032259,
      pressure: 0.37250292,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '0fd8a4d1-9641-4661-8ae9-60cd5c6966b4',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 88,
      time: 10261,
      x_target: 720,
      y_target: 680.7692,
      x: 703.4094,
      y: 680.7692,
      distance: 16.59057,
      pressure: 0.37174284,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '72e27811-a947-4c4c-a915-14c671dce8f4',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 89,
      time: 10265,
      x_target: 720,
      y_target: 686.53845,
      x: 702.9231,
      y: 686.53845,
      distance: 17.076923,
      pressure: 0.37192538,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '6d94000a-cfd6-411d-b0d8-8b8f24cae9bf',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 90,
      time: 10270,
      x_target: 720,
      y_target: 692.3077,
      x: 702.63464,
      y: 692.3077,
      distance: 17.365385,
      pressure: 0.37469998,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '735e4f8b-5e0f-4b64-a6a4-edae586c4492',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 91,
      time: 10275,
      x_target: 720,
      y_target: 698.0769,
      x: 702.3461,
      y: 698.0769,
      distance: 17.653847,
      pressure: 0.3774746,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '16598d1c-c966-4401-ba8f-59b62dbde2c3',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 92,
      time: 10280,
      x_target: 720,
      y_target: 703.8461,
      x: 702.0577,
      y: 703.8461,
      distance: 17.942308,
      pressure: 0.3802492,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '4d44fa2e-27c3-40eb-a9bc-46271cb26334',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 93,
      time: 10281,
      x_target: 720,
      y_target: 709.61536,
      x: 702,
      y: 709.61536,
      distance: 18,
      pressure: 0.3786588,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '1805782d-fc12-4439-a770-276998e6bc2e',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 94,
      time: 10285,
      x_target: 720,
      y_target: 715.38464,
      x: 702,
      y: 715.38464,
      distance: 18,
      pressure: 0.37774342,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '22d40fa5-1fcc-4d53-9493-b34b36232781',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 95,
      time: 10291,
      x_target: 720,
      y_target: 721.1539,
      x: 702,
      y: 721.1539,
      distance: 18,
      pressure: 0.37738585,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: '89e31ae8-fc4f-4293-ab5e-b42a1e9d9d69',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 96,
      time: 10297,
      x_target: 720,
      y_target: 726.9231,
      x: 702,
      y: 726.9231,
      distance: 18,
      pressure: 0.3778895,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'd62d66a8-8a89-4647-82c2-08fc54baf225',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 97,
      time: 10301,
      x_target: 720,
      y_target: 732.6923,
      x: 702,
      y: 732.6923,
      distance: 18,
      pressure: 0.38171956,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'f596a4f8-cfb2-4fff-a4fe-97fddb63c759',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 98,
      time: 10310,
      x_target: 720,
      y_target: 738.46155,
      x: 702,
      y: 738.46155,
      distance: 18,
      pressure: 0.38418373,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
    {
      ID: 'c8105c87-6e8d-4aa4-92f3-b54d899aceca',
      result_id: '3d052cf5-0cd1-4cbe-90b0-3d1acf049bd8',
      index: 99,
      time: 10314,
      x_target: 720,
      y_target: 744.2308,
      x: 703.0231,
      y: 744.2308,
      distance: 16.976923,
      pressure: 0.37359095,
      altitude: 1.1488909,
      azimuth: 1.1669312,
    },
  ]);
  const [isFetched, setIsFetched] = useState(false);
  useEffect(() => {
    //if (!isFetched) {
    //  console.log(result_id);
    //  const fetchResult = async () => {
    //    const res = await fetch(
    //      `https://lab.nghmst.com/sketch_hit/backend/api/get_result_timeseries`,
    //      {
    //        method: 'POST',
    //        headers: {
    //          'Content-Type': 'application/json',
    //        },
    //        body: JSON.stringify({
    //          id: result_id,
    //        }),
    //      }
    //    ).catch(() => null);
    //    const json_data = await res.json().catch(() => null);
    //    setResult_ts(json_data['results']);
    //    setIsFetched(true);
    //    console.log(json_data);
    //  };
    //  fetchResult();
    //}
  }, [result_ts, isFetched]);

  return (
    <div className="h-screen w-screen bg-slate-300">
      {/*<Link href="/">
        <a>Home</a>
      </Link>
{result_ts != null && result_ts[0] != null && result_ts[0].x}*/}
      <Canvas camera={{ fov: 90, position: [-2, -2, 10] }}>
        <color attach="background" args={['#111111']} />
        <OrbitControls />
        <ambientLight />
        <pointLight position={[10, 10, 10]} />
        <Box position={[0, 0, 0]} ts={result_ts} />
      </Canvas>
    </div>
  );
}
